#!/bin/sh

# script to change system color theme from dmenu

themes_dir="$HOME/.local/share"

current_theme=$(head -1 < "$themes_dir"/theme)

choose_theme() {
    for file in "$themes_dir/themes"/*; do
        [ -f "$file" ] || continue
        file="${file##*/}"
        [ "$file" = "${0##*/}" ] && continue
        echo "$file"
    done | dmenu-wrapper -i -p "Change system theme (current:${current_theme#?})"
}

theme=$(choose_theme)
[ -z "$theme" ] || theme-changer "$theme"