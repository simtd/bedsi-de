#!/bin/sh

# used to interactively change system themes with my "theme-changer" script

themes_loc="$HOME/.local/share/bedsi"

current_theme=$(head -1 < "$themes_loc"/theme)

choose_theme() {
    for file in "$themes_loc/themes"/*; do
        [ -f "$file" ] || continue
        file="${file##*/}"
        [ "$file" = "${0##*/}" ] && continue
        echo "$file"
    done | dmenu-wrapper -i -p "Change system theme (current:${current_theme#?})"
}

theme=$(choose_theme)
[ -z "$theme" ] || theme-changer "$theme"